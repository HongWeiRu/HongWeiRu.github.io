<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>零售店面管理系統 - 平面圖導覽</title>
    <link rel="stylesheet" href="store-layout.css" />
  </head>
  <body>
    <!-- 頂部導航 -->
    <header class="header">
      <div class="logo">
        <div class="logo-icon">S</div>
        <span>ShelfManager Pro</span>
      </div>
      <div class="header-right">
        <div class="view-controls">
          <button
            class="view-btn active"
            data-view="layout"
            onclick="switchView('layout')"
          >
            🏪 店面總覽
          </button>
          <button
            class="view-btn"
            data-view="management"
            onclick="switchView('management')"
          >
            📊 貨架管理
          </button>
        </div>
        <div class="datetime" id="datetime"></div>
        <div class="user-info">
          <div class="user-avatar">陳</div>
          <div>
            <div class="user-name">陳店長</div>
            <div class="user-role">門市經理</div>
          </div>
        </div>
      </div>
    </header>

    <!-- 主要內容容器 -->
    <main class="main-container">
      <!-- 店面平面圖檢視 -->
      <div id="layout-view" class="view-container active">
        <!-- 控制面板 -->
        <div class="control-panel">
          <div class="panel-header">
            <h2>店面管理總覽</h2>
            <p>點擊區域進入詳細管理，查看即時狀態</p>
          </div>

          <!-- 統計面板 -->
          <div class="stats-panel">
            <div class="stat-item">
              <div class="stat-icon">🏪</div>
              <div class="stat-info">
                <div class="stat-value">7</div>
                <div class="stat-label">管理區域</div>
              </div>
            </div>
            <div class="stat-item">
              <div class="stat-icon">📦</div>
              <div class="stat-info">
                <div class="stat-value">24</div>
                <div class="stat-label">貨架總數</div>
              </div>
            </div>
            <div class="stat-item">
              <div class="stat-icon">⚠️</div>
              <div class="stat-info">
                <div class="stat-value">3</div>
                <div class="stat-label">需要關注</div>
              </div>
            </div>
            <div class="stat-item">
              <div class="stat-icon">💰</div>
              <div class="stat-info">
                <div class="stat-value">87%</div>
                <div class="stat-label">運營效率</div>
              </div>
            </div>
          </div>
        </div>

        <!-- 店面平面圖 -->
        <div class="store-layout">
          <div class="layout-container">
            <!-- 店面外框 -->
            <div class="store-frame">
              <!-- 入口 -->
              <div class="entrance">
                <div class="entrance-door">入口</div>
                <div class="entrance-arrows">↑ ↓</div>
              </div>

              <!-- A區 - 廚房用品 (右側) -->
              <div
                class="area-zone area-a"
                data-area="A"
                onclick="enterAreaManagement('A')"
              >
                <div class="area-label">
                  <div class="area-title">A區 - 廚房</div>
                  <div class="area-status">🟢 正常運作</div>
                </div>
                <div class="area-shelves">
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                </div>
                <div class="area-stats">
                  <span>使用率: 92%</span>
                  <span>6個貨架</span>
                </div>
              </div>

              <!-- B區 - 居家生活 (上方中央) -->
              <div
                class="area-zone area-b"
                data-area="B"
                onclick="enterAreaManagement('B')"
              >
                <div class="area-label">
                  <div class="area-title">B區 - 居家</div>
                  <div class="area-status">🟡 需要補貨</div>
                </div>
                <div class="area-shelves">
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini warning"></div>
                  <div class="shelf-mini"></div>
                </div>
                <div class="area-stats">
                  <span>使用率: 78%</span>
                  <span>4個貨架</span>
                </div>
              </div>

              <!-- C區 - 旅遊用品 (上方左側) -->
              <div
                class="area-zone area-c"
                data-area="C"
                onclick="enterAreaManagement('C')"
              >
                <div class="area-label">
                  <div class="area-title">C區 - 旅遊</div>
                  <div class="area-status">🟢 正常運作</div>
                </div>
                <div class="area-shelves">
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini bestseller"></div>
                  <div class="shelf-mini"></div>
                </div>
                <div class="area-stats">
                  <span>使用率: 85%</span>
                  <span>3個貨架</span>
                </div>
              </div>

              <!-- D區 - 文具 (左側) -->
              <div
                class="area-zone area-d"
                data-area="D"
                onclick="enterAreaManagement('D')"
              >
                <div class="area-label">
                  <div class="area-title">D區 - 文具</div>
                  <div class="area-status">🟢 正常運作</div>
                </div>
                <div class="area-shelves">
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                </div>
                <div class="area-stats">
                  <span>使用率: 88%</span>
                  <span>3個貨架</span>
                </div>
              </div>

              <!-- E區 - 健康 (中央左側) -->
              <div
                class="area-zone area-e"
                data-area="E"
                onclick="enterAreaManagement('E')"
              >
                <div class="area-label">
                  <div class="area-title">E區 - 健康</div>
                  <div class="area-status">🟢 正常運作</div>
                </div>
                <div class="area-shelves">
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini bestseller"></div>
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini"></div>
                </div>
                <div class="area-stats">
                  <span>使用率: 94%</span>
                  <span>4個貨架</span>
                </div>
              </div>

              <!-- F區 - 美妝 (下方左側) -->
              <div
                class="area-zone area-f"
                data-area="F"
                onclick="enterAreaManagement('F')"
              >
                <div class="area-label">
                  <div class="area-title">F區 - 美妝</div>
                  <div class="area-status">🔴 庫存不足</div>
                </div>
                <div class="area-shelves">
                  <div class="shelf-mini"></div>
                  <div class="shelf-mini warning"></div>
                  <div class="shelf-mini critical"></div>
                </div>
                <div class="area-stats">
                  <span>使用率: 65%</span>
                  <span>3個貨架</span>
                </div>
              </div>

              <!-- G區 - IP授權 (右下角) -->
              <div
                class="area-zone area-g"
                data-area="G"
                onclick="enterAreaManagement('G')"
              >
                <div class="area-label">
                  <div class="area-title">G區 - IP授權</div>
                  <div class="area-status">🟢 正常運作</div>
                </div>
                <div class="area-shelves">
                  <div class="shelf-mini bestseller"></div>
                </div>
                <div class="area-stats">
                  <span>使用率: 100%</span>
                  <span>1個貨架</span>
                </div>
              </div>

              <!-- 收銀台 -->
              <div class="cashier-zone">
                <div class="cashier-icon">💰</div>
                <div class="cashier-label">收銀台</div>
              </div>

              <!-- 中央走道指示 -->
              <div class="walkway-indicator">
                <div class="walkway-arrows">↑ 主要走道 ↓</div>
              </div>
            </div>

            <!-- 圖例說明 -->
            <div class="legend">
              <h3>圖例說明</h3>
              <div class="legend-items">
                <div class="legend-item">
                  <div class="legend-color normal"></div>
                  <span>正常運作</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color bestseller"></div>
                  <span>熱銷商品</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color warning"></div>
                  <span>需要關注</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color critical"></div>
                  <span>緊急處理</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 貨架管理檢視 -->
      <div id="management-view" class="view-container">
        <!-- 返回按鈕和區域資訊 -->
        <div class="management-header">
          <button class="back-btn" onclick="backToLayout()">
            ← 返回店面總覽
          </button>
          <div class="current-area-info">
            <h2 id="current-area-title">區域管理</h2>
            <p id="current-area-desc">管理此區域的所有貨架和商品陳列</p>
          </div>
        </div>

        <!-- 區域統計 -->
        <div class="area-stats-detail">
          <div class="area-stat-card">
            <div class="stat-icon">📦</div>
            <div class="stat-content">
              <div class="stat-number" id="area-shelves-count">0</div>
              <div class="stat-text">貨架總數</div>
            </div>
          </div>
          <div class="area-stat-card">
            <div class="stat-icon">📊</div>
            <div class="stat-content">
              <div class="stat-number" id="area-usage-rate">0%</div>
              <div class="stat-text">平均使用率</div>
            </div>
          </div>
          <div class="area-stat-card">
            <div class="stat-icon">⭐</div>
            <div class="stat-content">
              <div class="stat-number" id="area-bestsellers">0</div>
              <div class="stat-text">明星商品</div>
            </div>
          </div>
          <div class="area-stat-card">
            <div class="stat-icon">⚠️</div>
            <div class="stat-content">
              <div class="stat-number" id="area-alerts">0</div>
              <div class="stat-text">需要關注</div>
            </div>
          </div>
        </div>

        <!-- 貨架管理工具列 -->
        <div class="shelf-management-toolbar">
          <div class="toolbar-left">
            <button class="toolbar-btn" onclick="refreshAreaShelves()">
              🔄 重新整理
            </button>
            <button class="toolbar-btn" onclick="addNewShelf()">
              ➕ 新增貨架
            </button>
          </div>
          <div class="toolbar-right">
            <button class="toolbar-btn export" onclick="exportAreaData()">
              📊 匯出資料
            </button>
          </div>
        </div>

        <!-- 貨架網格 -->
        <div class="shelves-grid" id="area-shelves-grid">
          <!-- 貨架卡片將由 JavaScript 動態生成 -->
        </div>
      </div>
    </main>

    <!-- 載入 JavaScript -->
    <script src="store-layout.js"></script>
  </body>
</html>
